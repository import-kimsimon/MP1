<!DOCTYPE html>
<html lang="en" >

    
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <link rel="stylesheet" href="http://use.fontawesome.com/releases/v5.7.2/css/all.css">
        <link rel="stylesheet" type="text/css" href="style.css">
        
        <title>Welcome To My Resume!</title>

    </head>

    


    <body>
       
        <script src="https://kit.fontawesome.com/b99e675b6e.js"></script>

        <div class="wrapper" id="particle">
            <div class="sidebar">
                <h2>Menu</h2>
                <ul>
                    <li><a href="index.html"><i class="fas fa-home"></i>Home</a></li>
                    <li><a href="education.html"><i class="fas fa-graduation-cap"></i></i>Education</a></li>
                    <li><a href="work.html"><i class="fas fa-briefcase"></i>Work</a></li>
                    <li><a href="organizations.html"><i class="fas fa-sitemap"></i>Organizations</a></li>

                </ul> 

                <a href="" id="sociala"><i  id="socialNav1"></i></a>
                <a href="" id="socialb"><i  id= "socialNav2"></i></a>
                <a href="" id="socialc"><i  id="socialNav3"></i></a>

            </div>
            <div class="main_content">
                <div class="header" id="header"></div>  
                <div id="organizationsContainer">
                    


                </div>
                
         
            </div>
            </div>
        </div>

        <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
      
            <!-- The core Firebase JS SDK is always required and must be listed first -->
            <script src="https://www.gstatic.com/firebasejs/7.17.1/firebase-app.js"></script>

            <!-- TODO: Add SDKs for Firebase products that you want to use
                https://firebase.google.com/docs/web/setup#available-libraries -->

                <script src="https://www.gstatic.com/firebasejs/7.17.1/firebase-firestore.js"></script>
                <script src="https://www.gstatic.com/firebasejs/7.17.1/firebase-auth.js"></script>

            <script>



            // Your web app's Firebase configuration
            var firebaseConfig = {
                apiKey: "AIzaSyDPksMApTycQBOCITMf9ewewKDtu99oXW8",
                authDomain: "ccappdev-resume.firebaseapp.com",
                databaseURL: "https://ccappdev-resume.firebaseio.com",
                projectId: "ccappdev-resume",
                storageBucket: "ccappdev-resume.appspot.com",
                messagingSenderId: "81143200495",
                appId: "1:81143200495:web:f95c0ebf26526ce089b91a"
            };
            // Initialize Firebase
            var defaultProject = firebase.initializeApp(firebaseConfig);

            var db = firebase.firestore();

            const orgs = document.querySelector('#organizationsContainer');


            const sociala = document.querySelector('#sociala');
            const socialb = document.querySelector('#socialb');
            const socialc = document.querySelector('#socialc');
            const icon1 = document.querySelector('#socialNav1');
            const icon2 = document.querySelector('#socialNav2');
            const icon3 = document.querySelector('#socialNav3');

            function renderlinks(doc){
                sociala.setAttribute('href', doc.data().link1);
                sociala.setAttribute('data-id', doc.id);
                icon1.setAttribute('class', doc.data().icon1);
               

                socialb.setAttribute('href', doc.data().link2);
                socialb.setAttribute('data-id', doc.id);
                icon2.setAttribute('class', doc.data().icon2);


                socialc.setAttribute('href', doc.data().link3);
                socialc.setAttribute('data-id', doc.id);
                icon3.setAttribute('class', doc.data().icon3);

            }

            function renderOrgs(doc){
                let record= document.createElement('div');
                let name = document.createElement('div');
                let position = document.createElement('div');
                let year_start = document.createElement('div');
                let year_end = document.createElement('div');
                let space = document.createElement('br');

                record.setAttribute('id', 'record');
                name.setAttribute('id', 'orgname');
                position.setAttribute('id', 'position');
                year_start.setAttribute('id', 'year-start');
                year_end.setAttribute('id', 'year-end');

                name.textContent = doc.data().name;
                position.textContent = doc.data().position;
                year_start.textContent = "Year start: " +doc.data().year_start;
                year_end.textContent = "Year end: " + doc.data().year_end;



                record.appendChild(name);
                record.appendChild(position);
                record.appendChild(year_start);
                record.appendChild(year_end);

                orgs.appendChild(record);
                
            }

            var x = 0;
            var typeHeader = "Organizations";
            var container = document.getElementById('header');
            function type(){
                if (x < typeHeader.length){
                    container.innerHTML += typeHeader.charAt(x);
                    x++;
                    setTimeout(type, 80);
                    
                }
                
            }
            type();


            db.collection("organizations").get().then((snapshot) => {
                    snapshot.docs.forEach(doc => {
                        renderOrgs(doc);
                    })
                })

            db.collection("links").get().then((snapshot) => {
                    snapshot.docs.forEach(doc => {
                        renderlinks(doc);
                        
                    })
                })

            
                var options = {"particles":{"number":{"value":99,"density":{"enable":true,"value_area":552.4033491425909}},"color":{"value":"#fa7d09"},"shape":{"type":"circle","stroke":{"width":10,"color":"#ec823a"},"polygon":{"nb_sides":3},"image":{"src":"img/github.svg","width":70,"height":100}},"opacity":{"value":1,"random":true,"anim":{"enable":false,"speed":1,"opacity_min":0.1,"sync":false}},"size":{"value":2,"random":true,"anim":{"enable":false,"speed":40,"size_min":0.1,"sync":false}},"line_linked":{"enable":false,"distance":150,"color":"#ffffff","opacity":0.4,"width":1},"move":{"enable":true,"speed":1.5782952832645452,"direction":"none","random":true,"straight":false,"out_mode":"out","bounce":false,"attract":{"enable":false,"rotateX":600,"rotateY":1200}}},"interactivity":{"detect_on":"canvas","events":{"onhover":{"enable":false,"mode":"repulse"},"onclick":{"enable":true,"mode":"repulse"},"resize":true},"modes":{"grab":{"distance":400,"line_linked":{"opacity":1}},"bubble":{"distance":400,"size":40,"duration":2,"opacity":8,"speed":3},"repulse":{"distance":200,"duration":0.4},"push":{"particles_nb":4},"remove":{"particles_nb":2}}},"retina_detect":false};
particlesJS("particle", options);

            </script>
                


    </body>

</html>